# ==============================================================================
# ReasoningBank MCP Server Configuration
# ==============================================================================

# ------------------------------------------------------------------------------
# API Keys
# ------------------------------------------------------------------------------
OPENROUTER_API_KEY=your_openrouter_key_here

# ------------------------------------------------------------------------------
# Storage Backend Selection
# ------------------------------------------------------------------------------
# Options: "chromadb" (local file storage) or "supabase" (cloud database)
STORAGE_BACKEND=chromadb

# ------------------------------------------------------------------------------
# ChromaDB Configuration (used when STORAGE_BACKEND=chromadb)
# ------------------------------------------------------------------------------
REASONING_BANK_DATA=./chroma_data
REASONING_BANK_TRACES=./traces
COLLECTION_NAME=reasoning_memories

# ------------------------------------------------------------------------------
# Supabase Configuration (used when STORAGE_BACKEND=supabase)
# ------------------------------------------------------------------------------
# Get these from your Supabase project: Settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Optional: Custom table names (defaults shown)
SUPABASE_TRACES_TABLE=reasoning_traces
SUPABASE_MEMORIES_TABLE=memory_items

# ------------------------------------------------------------------------------
# Model Configuration
# ------------------------------------------------------------------------------
REASONING_MODEL=google/gemini-2.5-pro
REASONING_EFFORT=medium  # Options: minimal, low, medium, high

# ------------------------------------------------------------------------------
# Memory and Iteration Settings
# ------------------------------------------------------------------------------
RETRIEVAL_K=3
MAX_MEMORY_ITEMS=3
MAX_ITERATIONS=3
SUCCESS_THRESHOLD=0.8

# ------------------------------------------------------------------------------
# Temperature Settings
# ------------------------------------------------------------------------------
TEMPERATURE_GENERATE=0.7
TEMPERATURE_JUDGE=0.0

# ------------------------------------------------------------------------------
# Token Budget Configuration
# ------------------------------------------------------------------------------
MAX_OUTPUT_TOKENS=9000
MAX_PROMPT_TOKENS=12000
GENERATION_TOKENS=8000
EVALUATION_TOKENS=3000
JUDGMENT_TOKENS=4000
MEMORY_EXTRACTION_TOKENS=6000
TRUNCATION_THRESHOLD=12000
TRUNCATION_HEAD_RATIO=0.6

# ------------------------------------------------------------------------------
# Retry Configuration
# ------------------------------------------------------------------------------
RETRY_ATTEMPTS=3
RETRY_MIN_WAIT=2
RETRY_MAX_WAIT=10

# ------------------------------------------------------------------------------
# Cache Configuration
# ------------------------------------------------------------------------------
ENABLE_CACHE=true
CACHE_SIZE=100
CACHE_TTL_SECONDS=3600

# ------------------------------------------------------------------------------
# MCP Server Configuration
# ------------------------------------------------------------------------------
MCP_TRANSPORT=stdio
MCP_PORT=8000

# ------------------------------------------------------------------------------
# Telemetry
# ------------------------------------------------------------------------------
ANONYMIZED_TELEMETRY=FALSE